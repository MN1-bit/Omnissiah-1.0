# ğŸš¨ ê¸´ê¸‰ìˆ˜ì • ì™„ë£Œ: ì „ëµ ì‹¤í–‰ ë¡œì§ ì¶”ê°€

## ì™„ë£Œ ì‹œê°„: 2024-12-16 16:38

## ìˆ˜ì •ëœ íŒŒì¼
- `main.py`

## ë¬¸ì œ
`_trading_iteration()`ì—ì„œ ë ˆì§ íŒë‹¨ë§Œ í•˜ê³  **ì „ëµì˜ `generate_signal()` í˜¸ì¶œ ëˆ„ë½**

## ìˆ˜ì • ë‚´ìš©

### ì¶”ê°€ëœ ì½”ë“œ
1. `_trading_iteration()`ì— `_execute_strategy()` í˜¸ì¶œ ì¶”ê°€
2. `_execute_strategy()` ë©”ì„œë“œ êµ¬í˜„

### _execute_strategy() ë¡œì§
```python
if self._current_regime == "íš¡ë³´":
    # Green Mode: VWAP ë°´ë“œ ë§¤ë§¤
    signal = self.green_strategy.generate_signal(...)
    
elif self._current_regime == "ìƒìŠ¹":
    # Red Mode: 3x ë ˆë²„ë¦¬ì§€ ëª¨ë©˜í…€
    signal = self.red_strategy.generate_signal(...)
    
elif self._current_regime == "ìœ„ê¸°":
    # Black Mode: ë°©ì–´ (í˜„ê¸ˆí™”)
    signal = self.black_strategy.generate_signal(...)

if signal:
    self._execute_order(signal)
```

### ì£¼ìš” ê¸°ëŠ¥
| ë ˆì§ | ì „ëµ | ë™ì‘ |
|-----|------|------|
| íš¡ë³´ | GreenMode | VWAP ë°´ë“œ ê¸°ë°˜ ë§¤ìˆ˜/ë§¤ë„ |
| ìƒìŠ¹ | RedMode | 3x ë ˆë²„ë¦¬ì§€ ETF ë§¤ìˆ˜ |
| ìœ„ê¸° | BlackMode | ì „ëŸ‰ í˜„ê¸ˆí™” |

## ìˆ˜ì •ëœ íë¦„
```
_trading_iteration()
    â†“
í‚¬ ìŠ¤ìœ„ì¹˜ ì²´í¬
    â†“
Z-Score ê³„ì‚°
    â†“
ë ˆì§ íŒë‹¨
    â†“
_execute_strategy()  â† ğŸ†• ì¶”ê°€ë¨
    â†“
generate_signal()
    â†“
_execute_order()
    â†“
IBKR ì£¼ë¬¸
```

## í…ŒìŠ¤íŠ¸ ê²°ê³¼
```
âœ… ì„í¬íŠ¸ ì„±ê³µ
```

## ì°¸ì¡°
- ìˆ˜ì • ê³„íš: `docs/plan/steps/URGENT_ì „ëµì‹¤í–‰ëˆ„ë½ìˆ˜ì •.md`
