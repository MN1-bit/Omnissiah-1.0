# Part 7 Step 16.7 - ì‹¤ì‹œê°„ ì‹œì„¸ ì—°ë™ ì™„ë£Œ

## ì™„ë£Œ ì‹œê°„: 2024-12-16 15:47
## ì—…ë°ì´íŠ¸: 2024-12-16 16:04 (ì°¨íŠ¸ ì´ˆê¸° ë°ì´í„° ë¡œë“œ ìˆ˜ì •)

## ìˆ˜ì •ëœ íŒŒì¼
- `core/bridge.py`
- `main.py`

## êµ¬í˜„ëœ ê¸°ëŠ¥

### bridge.py ì¶”ê°€ ë©”ì„œë“œ
| ë©”ì„œë“œ | ê¸°ëŠ¥ |
|--------|------|
| `subscribe_market_data(symbols)` | ì‹¤ì‹œê°„ ì‹œì„¸ êµ¬ë… |
| `unsubscribe_market_data(symbol)` | êµ¬ë… í•´ì œ |
| `unsubscribe_all()` | ëª¨ë“  êµ¬ë… í•´ì œ |
| `_on_price_update(ticker)` | ì‹œì„¸ ì—…ë°ì´íŠ¸ ì½œë°± |

### ì‹œê·¸ë„
| ì‹œê·¸ë„ | ë°ì´í„° |
|--------|--------|
| `price_update` | `{symbol, bid, ask, last, volume, high, low, close}` |

### main.py ë³€ê²½
- ì—°ê²° ì‹œ SPY, QQQ, VIX ìë™ êµ¬ë…
- `_on_price_update()` í•¸ë“¤ëŸ¬ ì¶”ê°€
- `_load_initial_chart_data()` ì¶”ê°€ - ì‹œì‘ ì‹œ 50ì¼ ë°ì´í„° ì°¨íŠ¸ì— ë¡œë“œ

## ğŸ†• ì°¨íŠ¸ ì´ˆê¸° ë°ì´í„° ë¡œë“œ (16:04 ìˆ˜ì •)

**ë¬¸ì œ:** SQLite ë™ì‹œ ì ‘ê·¼ ì—ëŸ¬ (`bad parameter or other API misuse`)

**í•´ê²°:** ìˆœì„œ ë³€ê²½ - ì°¨íŠ¸ ë°ì´í„° ë¡œë“œë¥¼ **ìŠ¤ë ˆë“œ ì‹œì‘ ì „**ì— ì‹¤í–‰
```diff
- market_data.start()
- _load_initial_chart_data()  # DB ì¶©ëŒ!
+ _load_initial_chart_data()  # ë¨¼ì € ì‹¤í–‰
+ market_data.start()         # ê·¸ í›„ ìŠ¤ë ˆë“œ ì‹œì‘
```

## êµ¬ë… ì‹¬ë³¼
| ì‹¬ë³¼ | íƒ€ì… | ìš©ë„ |
|------|------|------|
| SPY | Stock | ê°€ê²© ì°¨íŠ¸, ì „ëµ |
| QQQ | Stock | ì „ëµ |
| VIX | Index | ë ˆì§ íŒë‹¨ |

## âœ… Pre/After Market ì§€ì› (16:06 ì¶”ê°€)
- `subscribe_market_data(outside_rth=True)` íŒŒë¼ë¯¸í„° ì¶”ê°€
- ê¸°ë³¸ê°’ True = Extended Hours ì‹œì„¸ ìˆ˜ì‹  í™œì„±í™”
- Pre-Market (04:00-09:30 ET), After-Hours (16:00-20:00 ET) ì§€ì›

## í…ŒìŠ¤íŠ¸ ê²°ê³¼
```
âœ… ì°¨íŠ¸ ì´ˆê¸° ë°ì´í„° ë¡œë“œ ì™„ë£Œ (50ì¼)
âœ… SPY ê°€ê²© ë¼ì¸ í‘œì‹œë¨
âœ… Extended Hours ì‹œì„¸ êµ¬ë… í™œì„±í™”
```

## ë‹¤ìŒ ë‹¨ê³„
â†’ Part 8: LLM í†µí•© (Phase 1)
